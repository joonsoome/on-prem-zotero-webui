# Staging/NAS environment configuration (example values). Copy to `.env.stage` on the staging host.

# GHCR images to deploy (choose tags built by CI) â€” default to a pinned release tag
PDF_PROXY_IMAGE=ghcr.io/joonsoome/on-prem-zotero-webui/pdf-proxy:latest
WEB_LIBRARY_IMAGE=ghcr.io/joonsoome/on-prem-zotero-webui/web-library:latest

# Host path for Zotero WebDAV data mounted into the proxy container
ZOTERO_ROOT_HOST_PATH=/volume1/Reference/zotero

# Host ports exposed by the stack
PDF_PROXY_PORT=8280
WEB_LIBRARY_PORT=8281

# Base URL that the Web Library should use when linking to the PDF proxy (update to your staging hostname/IP)
PDF_PROXY_BASE_URL=http://192.168.0.50:8280/pdf

# Optional HTTP basic auth (extra guard if Cloudflare/NPM is bypassed)
PDF_PROXY_BASIC_AUTH_USER=
PDF_PROXY_BASIC_AUTH_PASSWORD=
PDF_PROXY_BASIC_AUTH_REALM=Zotero PDF Proxy
WEB_LIBRARY_BASIC_AUTH_USER=
WEB_LIBRARY_BASIC_AUTH_PASSWORD=
WEB_LIBRARY_BASIC_AUTH_REALM=Zotero WebUI

# Metadata source (runtime templating for the Web Library)
# If you host metadata on zotero.org (default):
#   ZOTERO_API_KEY: your Zotero API key
#   ZOTERO_API_AUTHORITY_PART: api.zotero.org
#   ZOTERO_INCLUDE_USER_GROUPS: true to show your groups from zotero.org
# If you host metadata on-prem (custom API host):
#   ZOTERO_API_KEY: on-prem API token (if required)
#   ZOTERO_API_AUTHORITY_PART: e.g., nas.local:8080 (your on-prem metadata host)
# You must set ZOTERO_USER_SLUG and ZOTERO_USER_ID to your account to mirror zotero.org data.
ZOTERO_API_KEY=changeme-zotero-api-key
ZOTERO_API_AUTHORITY_PART=api.zotero.org
ZOTERO_USER_SLUG=changeme-user-slug
# The numeric id is show at above of API Key generation list at zotero.org
ZOTERO_USER_ID=1234567
ZOTERO_INCLUDE_MY_LIBRARY=true
ZOTERO_INCLUDE_USER_GROUPS=true
# JSON array of explicit libraries/groups to include (e.g., [{"key":"g123","name":"Team","isGroupLibrary":true}])
ZOTERO_LIBRARIES_INCLUDE_JSON=[]

# On-prem upload gating (false = block WebUI uploads to Zotero Storage; use Desktop/WebDAV sync)
WEB_LIBRARY_ALLOW_UPLOADS=false
